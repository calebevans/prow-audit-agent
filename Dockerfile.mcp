FROM python:3.11-slim

WORKDIR /app
COPY requirements.txt .
COPY src/ src/

RUN pip install --no-cache-dir \
    sqlalchemy>=2.0.0 \
    mcp>=1.0.0 \
    sentence-transformers>=2.2.0 \
    torch>=2.0.0 \
    numpy>=1.24.0 \
    scikit-learn

ENV PYTHONPATH=/app

ENTRYPOINT ["python", "-m", "src.mcp.database_server"]

